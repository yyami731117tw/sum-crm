# 部署更新說明

## 版本 0.1.6 更新內容

### 功能更新
1. 優化登出功能
   - 改善登出後的頁面重定向邏輯
   - 確保用戶狀態正確清除

2. 導航選單更新
   - 重新排序導航項目
   - 更新管理員權限檢查邏輯
   - 優化錯誤提示訊息

### 技術更新
1. Node.js 版本更新
   - 降級至 v18.20.5 以提高穩定性
   - 更新 npm 至 v10.8.2

2. 依賴項更新
   - 更新 Next.js 至 14.2.22
   - 更新 ESLint 和 TypeScript 相關套件
   - 修復已知的安全性問題

## 部署步驟

1. 備份
   ```bash
   # 備份現有的 .next 目錄
   cp -r .next .next_backup
   ```

2. 更新檔案
   ```bash
   # 解壓部署檔案
   tar -xzf deploy.tar.gz
   ```

3. 安裝依賴
   ```bash
   # 使用 Node.js v18
   nvm use 18
   
   # 安裝依賴項
   npm install --legacy-peer-deps
   ```

4. 啟動服務
   ```bash
   # 啟動生產環境服務
   npm run start
   ```

## 回滾步驟

如果需要回滾到先前版本：

1. 停止現有服務
2. 還原備份的 .next 目錄
3. 重新啟動服務

## 注意事項

1. 確保服務器 Node.js 版本為 v18.x
2. 部署前先進行完整的備份
3. 監控系統日誌確保服務正常運行
4. 如有異常及時回報系統管理員 